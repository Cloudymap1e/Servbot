[pytest]
# pytest configuration for servbot test suite

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Markers for test categorization
markers =
    live: marks tests that connect to real email servers (deselect with '-m "not live"')
    integration: marks integration tests that may be slower (deselect with '-m "not integration"')
    slow: marks slow tests that should be run separately
    unit: marks fast unit tests

# Console output
console_output_style = progress
addopts = 
    -ra
    --strict-markers
    --tb=short
    
# Test paths
testpaths = tests

# Minimum version
minversion = 6.0

# Ignore patterns
norecursedirs = .git .tox dist build *.egg __pycache__ .venv venv

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage (if pytest-cov is installed)
# Run with: pytest --cov=servbot --cov-report=html
[coverage:run]
source = servbot
omit = 
    */tests/*
    */test_*.py
    */__pycache__/*
    */venv/*
    */virtualenv/*
